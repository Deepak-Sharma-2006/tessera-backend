# ==========================================
# Production Profile for Render Deployment
# ==========================================
# This profile is activated when deployed to Render
# Set SPRING_PROFILES_ACTIVE=prod on Render dashboard

# ==========================================
# Server Configuration
# ==========================================
server.port=${PORT:8080}
server.servlet.context-path=

# ==========================================
# JWT Configuration
# ==========================================
# CRITICAL: Must be set via environment variable on Render
# Generate with: openssl rand -base64 32
jwt.secret=${JWT_SECRET}

# ==========================================
# MongoDB Configuration
# ==========================================
# Uses MongoDB Atlas (friend's cluster)
# Format: mongodb+srv://USERNAME:PASSWORD@cluster.mongodb.net/studencollabfin
# CRITICAL: Must be set via MONGODB_URI environment variable on Render
spring.data.mongodb.uri=${MONGODB_URI}
spring.data.mongodb.database=studencollabfin
spring.data.mongodb.auto-index-creation=true

# ==========================================
# Performance & Reliability
# ==========================================
spring.data.mongodb.connect-timeout-ms=5000
spring.data.mongodb.socket-timeout-ms=5000

# ==========================================
# File Upload Configuration
# ==========================================
# Render uses ephemeral filesystem - files uploaded here are temporary
# For permanent storage, integrate with AWS S3 or similar
file.upload.dir=/tmp/uploads
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# ==========================================
# Logging
# ==========================================
logging.level.root=INFO
logging.level.com.studencollabfin=INFO
logging.level.org.springframework.security=WARN
logging.level.org.springframework.data.mongodb=WARN

# Don't log passwords or sensitive data
logging.level.org.springframework.boot.autoconfigure=WARN

# ==========================================
# WebSocket Configuration
# ==========================================
# Allow connections from frontend domain(s)
# May need to update with actual Render domain when deployed
server.tomcat.threads.max=100

# ==========================================
# Application Name
# ==========================================
spring.application.name=StudCollabFin
